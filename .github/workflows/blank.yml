name: Data Contract

on:
  push:
    branches:
      - main

jobs:
  data_contract_job:
    name: Data Contract
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Read the datacontract.yaml file
      id: read_yaml
      run: |
        YAML_CONTENT=$(cat datacontract.yaml)
        echo "::set-output name=file_content::$YAML_CONTENT"

    - name: Validate the contract
      run: |
        API_URL="https://test.com"
        YAML_CONTENT="${{ steps.read_yaml.outputs.file_content }}"

    - name: Generating observability
      run: |
        API_URL="https://test.com"
        YAML_CONTENT="${{ steps.read_yaml.outputs.file_content }}"
        # Here you can parse the YAML content and extract necessary data
        # Then make the API call using the extracted data
        # Example:
        # echo "YAML content: $YAML_CONTENT"
        # Use a tool like curl or a programming language's HTTP library to make the API call
